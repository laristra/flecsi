FROM laristra/flecsi-third-party:fedora

ARG MINIMAL
ARG LEGION
ARG RUNTIME
ARG COVERAGE
ARG SONARQUBE
ARG SONARQUBE_TOKEN
ARG SONARQUBE_GITHUB_TOKEN
ARG CC
ARG CXX
ARG CXXFLAGS

#for coverage
ARG CI
ARG TRAVIS
ARG TRAVIS_BRANCH
ARG TRAVIS_JOB_NUMBER
ARG TRAVIS_PULL_REQUEST
ARG TRAVIS_JOB_ID
ARG TRAVIS_TAG
ARG TRAVIS_REPO_SLUG
ARG TRAVIS_COMMIT
ARG TRAVIS_OS_NAME
ARG IGNORE_NOCI

ARG CI_COMMIT_REF_NAME
ARG CI_JOB_ID
ARG CI_REPOSITORY_URL
ARG CI_COMMIT_SHA

RUN ls /
#RUN mkdir /builds/onurcaylak
#COPY flecsi /builds/onurcaylak/flecsi
USER root

RUN pwd
RUN ls -la
WORKDIR /builds/onurcaylak/flecsi/build
RUN ls -la

RUN pwd
RUN make install
USER flecsi
COPY /builds/onurcaylak/flecsi /home/flecsi
WORKDIR /home/flecsi
