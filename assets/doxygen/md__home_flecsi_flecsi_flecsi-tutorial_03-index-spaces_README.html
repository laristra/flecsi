<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="shortcut icon" type="image/x-icon" href="flecsi-favicon.ico" />
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<title>Interface Documentation: FleCSI: Tutorial - 03 Index Spaces</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" height="200" style="margin-top:40px; margin-left:30px; margin-right:10px" src="medium-flecsi.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Interface Documentation<br>
		<span id="projectnumber">Version:</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">FleCSI: Tutorial - 03 Index Spaces </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1>Index Spaces</h1>
<p>Index spaces are a fundamental concept of the FleCSI programming model. In principle, an index space is simply an enumerated set. In practice, index spaces provide an elegant tool for reasoning about work division and parallelism. One of the primary capabilities provided by the FleCSI programming system is the automatic generation of index space iterators from specializations of the core FleCSI data structures.</p>
<p>In this example, we demonstrate using the index spaces defined on a simple mesh to iterate over the entities in the mesh. This expands on the previous tutorial example, which introduced the notion of a data client. Shown here, perhaps more concretely, is that a data client is a specialization type that exposes one or more index spaces. In this case, the data client is a simple mesh that provides an interface to the index spaces, <em>cells</em>, and <em>vertices</em>. As can be seen in the code example, users can iterate over these index spaces using straightforward range-based loop constructs. This is the preferred style for accessing entities that are defined on a FleCSI data client.</p>
<p>The entity types themselves are defined as part of the specialization. This allows different specialization developers to use nomenclature and interfaces that best reflect the intended use of their projects. As an example, the vertex and cell types defined with our simple mesh both have <em>print</em> methods that print a user-defined string and the entity's id. Although these particular types are relatively trivial, an actual specialization type may expose interfaces that are arbitrarily complex.</p>
<p>The code for this example can be found in <em>index-spaces.cc</em>:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include&lt;flecsi-tutorial/specialization/mesh/mesh.h&gt;</span></div><div class="line"><span class="preprocessor">#include&lt;<a class="code" href="data_8h.html">flecsi/data/data.h</a>&gt;</span></div><div class="line"><span class="preprocessor">#include&lt;<a class="code" href="execution_8h.html">flecsi/execution/execution.h</a>&gt;</span></div><div class="line"></div><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespaceflecsi.html">flecsi</a>;</div><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespaceflecsi_1_1tutorial.html">flecsi::tutorial</a>;</div><div class="line"></div><div class="line"><a class="code" href="group__data.html#gaaa855ccd1c709526c76247bce774ff64">flecsi_register_data_client</a>(<a class="code" href="structflecsi_1_1tutorial_1_1specialization__mesh__t.html">mesh_t</a>, clients, <a class="code" href="structflecsi_1_1data__client__handle__base__u.html">mesh</a>);</div><div class="line"></div><div class="line"><span class="keyword">namespace </span><a class="code" href="namespaceexample.html">example</a> {</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> simple(<a class="code" href="structflecsi_1_1data__client__handle__base__u.html">mesh&lt;ro&gt;</a> <a class="code" href="structflecsi_1_1data__client__handle__base__u.html">mesh</a>) {</div><div class="line"></div><div class="line">  <span class="comment">// Iterate over the vertices index space</span></div><div class="line"></div><div class="line">  <span class="keywordflow">for</span>(<span class="keyword">auto</span> v: mesh.vertices()) {</div><div class="line">    v-&gt;print(<span class="stringliteral">&quot;Hello World! I&#39;m a vertex!&quot;</span>);</div><div class="line">  } <span class="comment">// for</span></div><div class="line"></div><div class="line">  <span class="comment">// Iterate over the cells index space, and then over</span></div><div class="line">  <span class="comment">// the vertices index space.</span></div><div class="line"></div><div class="line">  <span class="keywordflow">for</span>(<span class="keyword">auto</span> c: mesh.cells(owned)) {</div><div class="line">    c-&gt;print(<span class="stringliteral">&quot;Hello World! I am a cell!&quot;</span>);</div><div class="line"></div><div class="line">    <span class="keywordflow">for</span>(<span class="keyword">auto</span> v: mesh.vertices(c)) {</div><div class="line">      v-&gt;print(<span class="stringliteral">&quot;I&#39;m a vertex!&quot;</span>);</div><div class="line">    } <span class="comment">// for</span></div><div class="line">  } <span class="comment">// for</span></div><div class="line"></div><div class="line">} <span class="comment">// simple</span></div><div class="line"></div><div class="line"><span class="comment">// Task registration is as usual...</span></div><div class="line"></div><div class="line"><a class="code" href="group__execution.html#ga4dcd75ac370388c816b99672d589c4bc">flecsi_register_task</a>(simple, <a class="code" href="namespaceexample.html">example</a>, loc, single);</div><div class="line"></div><div class="line">} <span class="comment">// namespace example</span></div><div class="line"></div><div class="line"><span class="keyword">namespace </span><a class="code" href="namespaceflecsi.html">flecsi</a> {</div><div class="line"><span class="keyword">namespace </span>execution {</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> <a class="code" href="hpx_2runtime__driver_8h.html#a529faee76b6bf740ce1a013919b3654f">driver</a>(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> ** argv) {</div><div class="line"></div><div class="line">  <span class="comment">// Get a data client handle as usual...</span></div><div class="line"></div><div class="line">  <span class="keyword">auto</span> m = <a class="code" href="group__data.html#ga9673dfe687ab0a65683d20689bd9cc46">flecsi_get_client_handle</a>(<a class="code" href="structflecsi_1_1tutorial_1_1specialization__mesh__t.html">mesh_t</a>, clients, mesh);</div><div class="line"></div><div class="line">  <span class="comment">// Task execution is as usual...</span></div><div class="line"></div><div class="line">  <a class="code" href="group__execution.html#gafca967e833f6d2dffd7d326c5993964f">flecsi_execute_task</a>(simple, <a class="code" href="namespaceexample.html">example</a>, single, m);</div><div class="line"></div><div class="line">} <span class="comment">// driver</span></div><div class="line"></div><div class="line">} <span class="comment">// namespace execution</span></div><div class="line">} <span class="comment">// namespace flecsi</span></div></div><!-- fragment --> </div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
