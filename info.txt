The .gitlab-ci.yml file is used by GitLab Runner to manage the CI/CD pipelines and it should be placed in the root of the Github repository. A pipeline is a group of jobs that get executed in stages(batches). The YML file contains three globally defined stages (build, test, deploy), where each one can have one or more jobs. 

The structure of the jobs in this file can be used as a template. Jobs are picked up by Runners and executed within the environment of the Runner. The docker image laristra/flecsi-third-party:${DISTRO} is used in the stages build and test, whereas the stage deploy is based on the image docker:latest. Each job must have a unique name.



Dependencies are introduced to pass artifacts between different jobs. Here, artifacts is used to specify a directory which should be attached to the job after success.

In Gitlab-CI the path /builds/username/repo_name (predefined variable: ${CI_PROJECT_DIR}) is where the repository is cloned and where the job is run.

TODO: add docker login and docker push